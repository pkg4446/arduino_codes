//최대 전송 문자열 갯수 140
//common: Immediate response
{
    "id":   "<board-id>",   // 제어보드 고유 id
    "ctrl": "receive",
    "type": "ctrl type"
}
//common: error response
{
    "id":   "<board-id>",   // 제어보드 고유 id
    "ctrl": "error",
    "type": "ctrl type",
    "err":  "err_msg"
}

// relay request example
{
    "ctrl":     "relay",
    "type":     1,          // relay number e.g. 1번 relay, unsigned char (0 to 255), relay number e.g. (1~7 relay)
    "duration": 1000        // unsigned short 0 to 65,535, e.g. 1000 ms
}
// relay response
{
    "id":       "<board-id>",   // 제어보드 고유 id
    "ctrl":     "relay",
    "type":     1,
    "duration": 1001        //실제 릴레이 작동시간(시스템 시간상 +10 miili sec 정도 차이가 날 수 있음 )
}

// relay status change request example (스탭모터 브레이크 사용 등)
{
    "ctrl":     "relay_hold",
    "type":     1,  // relay number e.g. 1번 relay, unsigned char (0 to 255), relay number e.g. (1~7 relay)
    "status":   1  // unsigned short 0 to 65,535, e.g. 1000 ms
}
// relay response
{
    "id":     "<board-id>",   //제어보드 고유 id
    "ctrl":   "relay_hold",
    "type":   1,
    "status": 1             //릴레이 on,off 상태
}

// sensor read request
{
    "conrol": "sensor_read",
}
// sensor read response
{
    "id":     "<board-id>",     // 제어보드 고유 id
    "ctrl":   "sensor_read",
    "sensor": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], //배열 순서대로 0~15번 센서값 0:false,1:true
}

// step motor ctrl request (사용 전, 후, relay status change로 반드시 브레이크 off, on)
{
    "ctrl":    "motor",
    "driver":  1,   //0내장 드라이버, 1외장드라이버(MD5-HD14)
    "type":    1,   // motor type e.g. 1번 모터 // 0 to 255
    "step":    10,  //스탭 수 (n 스탭당 1회전) unsigned int32 - 0 to 4294967295        
    "dir":     1,   //step motor direction (CW/CCW), 0:CW, 1:CCW
    "limit":   4,   //모터 진행방향 리미트센서 번호 = sensor_read 번호
    "accel":   10,  //0 to 45, 가속 구간 % 비율
    "decel":   5,   //0 to 45, 감속 구간 % 비율
    "spd_max": 10,  //unsigned int 16, 모터 스탭간격 micro sec 
    "spd_min": 1000 //unsigned int 16, 모터 스탭간격 micro sec, speed_max < speed_min    
}

{
    "ctrl":    "motor",
    "driver":  1,
    "type":    1,
    "step":    10,
    "dir":     1,
    "limit":   4,
    "accel":   10,
    "decel":   5,
    "spd_max": 10,
    "spd_min": 1000
}

// step motor ctrl response
{
    "id":     "<board-id>", // 제어보드 고유 id
    "ctrl":   "step_motor",
    "driver": 1,
    "type":   1,
    "zero":   false,        // 영점 확인 여부
    "pos":    999           // 모터 위치
}

// step motor config request
{
    "ctrl": "motor_config",
    "driver": 1, //0:내장 드라이버, 1:외장드라이버(MD5-HD14)
    "type":   1, //motor type e.g. 1번 모터 // 0 to 255
    "method": 0, //0:get, 1:set
    "step":   99999, //method=1 일 경우, unsigned int32 - 0 to 4294967295 하단 리미트에서 상단 리미트 센서까지의 스탭 수.
}

//하단 리미트에서 상단 리미트 센서까지의 스탭 측정 기능 추가 예정
//스탭모터 리미트 사용하지 않는 경우,
//비동기 동작이 필요한지?
//-(현재 코드에서는 스탭모터의 비동기 동작이 불가능)
//-(스탭모터의 비동기 동작을 위해서는 회전속도 문제로 풀스탭 사용이 요구됨)
//-(스탭모터 비동기 동작 코딩을 위해서는 테스트용 하드웨어 구성이 필요함)

//hx720 센서를 이용한 로드셀 사용 기능 추가 예정
//-(로드셀 추가를 위해서 테스트용 하드웨어 구성이 필요함)